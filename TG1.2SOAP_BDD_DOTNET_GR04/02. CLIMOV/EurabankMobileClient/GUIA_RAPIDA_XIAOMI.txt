# üöÄ Gu√≠a R√°pida - Ejecutar en Xiaomi

## ‚ö° Inicio R√°pido (3 pasos)

### 1. Configurar Firewall (SOLO UNA VEZ)
```powershell
# Abre PowerShell como ADMINISTRADOR y ejecuta:
netsh advfirewall firewall add rule name="Eurabank API Port 5199" dir=in action=allow protocol=TCP localport=5199
```

### 2. Iniciar Servidor
```powershell
cd C:\src\Eurabank_Restfull_SOAP_G04\Eurabank_Restfull_SOAP_G04
.\IniciarServidorXiaomi.ps1
```

### 3. Ejecutar en Visual Studio
- Abre: `EurabankMobileClient.csproj`
- Conecta tu Xiaomi con USB
- Autoriza depuraci√≥n USB en el tel√©fono
- Selecciona "Xiaomi 23129RA5FL" en VS
- Presiona **F5**

---

## üìã Checklist Pre-Ejecuci√≥n

**En tu Xiaomi:**
- [x] Opciones de desarrollador activadas (7 toques en Versi√≥n MIUI)
- [x] Depuraci√≥n USB activada
- [x] Instalar v√≠a USB activada
- [x] Cable USB conectado
- [x] Autorizaci√≥n USB permitida

**En tu PC:**
- [x] Firewall configurado (puerto 5199)
- [x] Servidor REST API ejecut√°ndose
- [x] IP: 10.40.17.162 (verificar con `ipconfig`)
- [x] Visual Studio 2022 abierto
- [x] Proyecto EurabankMobileClient cargado

---

## üîç Verificaci√≥n R√°pida

**¬øEl servidor est√° corriendo?**
```powershell
curl http://localhost:5199/api/cuentas
```
Debe devolver JSON con cuentas.

**¬øEl Xiaomi est√° conectado?**
```powershell
adb devices
```
Debe mostrar tu dispositivo como "device".

**¬øLa red est√° configurada?**
```powershell
ipconfig | findstr "10.40"
```
Debe mostrar: 10.40.17.162

---

## üéØ Ejecutar

### Desde Visual Studio (Recomendado)
1. F5 o bot√≥n ‚ñ∂ Start
2. Espera instalaci√≥n autom√°tica
3. App se abre en tu Xiaomi
4. Login: MONSTER / monster9

### Desde L√≠nea de Comandos
```powershell
cd C:\src\Eurabank_Restfull_SOAP_G04\EurabankMobileClient
dotnet build -t:Run -f net9.0-android
```

---

## üêõ Soluci√≥n R√°pida de Problemas

| Problema | Soluci√≥n |
|----------|----------|
| Xiaomi no aparece en VS | `adb devices` ‚Üí Revoca autorizaciones USB en tel√©fono ‚Üí Reconecta |
| Error de conexi√≥n | Verifica firewall y que ambos est√©n en misma WiFi |
| App no se instala | Desinstala versi√≥n anterior del tel√©fono |
| "INSTALL_FAILED_USER_RESTRICTED" | Activa "Instalar v√≠a USB" en Opciones desarrollador |

---

## üì± URLs Configuradas

- **Servidor Local:** http://localhost:5199
- **Servidor Red:** http://10.40.17.162:5199
- **Xiaomi conecta a:** http://10.40.17.162:5199

---

## ‚öôÔ∏è Configuraci√≥n Actual

```
Dispositivo: Xiaomi 23129RA5FL
Android:     15.0 (API 35)
IP Server:   10.40.17.162
Puerto:      5199
Protocolo:   HTTP
```

---

## üìû Comandos √ötiles

**Ver dispositivos Android conectados:**
```powershell
adb devices
```

**Ver logs de la app en tiempo real:**
```powershell
adb logcat | findstr "EurabankMobileClient"
```

**Reinstalar app:**
```powershell
adb uninstall com.companyname.eurabankmobileclient
dotnet build -t:Run -f net9.0-android
```

**Verificar IP actual:**
```powershell
ipconfig | findstr "IPv4"
```

**Probar servidor desde red:**
```powershell
curl http://10.40.17.162:5199/api/cuentas
```

---

## üéâ ¬°Listo para Ejecutar!

Todo est√° configurado para tu Xiaomi 23129RA5FL con Android 15.0.
La IP 10.40.17.162 ya est√° establecida en el c√≥digo.

**¬°Presiona F5 y disfruta! üì±**
