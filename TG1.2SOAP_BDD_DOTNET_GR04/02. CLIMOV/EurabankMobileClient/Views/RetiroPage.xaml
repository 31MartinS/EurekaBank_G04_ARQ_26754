<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:EurabankMobileClient.ViewModels"
             x:Class="EurabankMobileClient.Views.RetiroPage"
             x:DataType="vm:RetiroViewModel"
             Title="{Binding Title}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            
            <!-- InformaciÃ³n del Cliente -->
            <Frame Padding="15" BackgroundColor="White" CornerRadius="10" HasShadow="True">
                <VerticalStackLayout Spacing="10">
                    <Label Text="CLIENTE" FontSize="12" TextColor="#999"/>
                    <Label Text="{Binding NombreCliente}" 
                           FontSize="20" FontAttributes="Bold" TextColor="#333"/>
                    
                    <Label Text="CUENTA" FontSize="12" TextColor="#999" Margin="0,10,0,0"/>
                    <Label Text="{Binding CodigoCuenta}" 
                           FontSize="16" TextColor="#666"/>
                    
                    <Label Text="SALDO DISPONIBLE" FontSize="12" TextColor="#999" Margin="0,10,0,0"/>
                    <Label Text="{Binding SaldoActual, StringFormat='{0:C}'}" 
                           FontSize="24" FontAttributes="Bold" TextColor="#FF9800"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Formulario de Retiro -->
            <Frame Padding="20" BackgroundColor="White" CornerRadius="10" HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <Label Text="MONTO A RETIRAR" 
                           FontSize="14" FontAttributes="Bold" TextColor="#333"/>
                    
                    <Entry Text="{Binding MontoTexto}" 
                           Placeholder="0.00" 
                           PlaceholderColor="#BBB"
                           Keyboard="Numeric"
                           FontSize="32"
                           HorizontalTextAlignment="Center"
                           TextColor="#F44336"
                           BackgroundColor="#F5F5F5"/>

                    <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,20,0,0">
                        <Button Grid.Column="0" 
                                Text="Cancelar"
                                Command="{Binding CancelarCommand}"
                                BackgroundColor="#9E9E9E"
                                TextColor="White"
                                FontAttributes="Bold"
                                CornerRadius="8"
                                HeightRequest="50"/>
                        
                        <Button Grid.Column="1" 
                                Text="Retirar"
                                Command="{Binding RealizarRetiroCommand}"
                                BackgroundColor="#F44336"
                                TextColor="White"
                                FontAttributes="Bold"
                                CornerRadius="8"
                                HeightRequest="50"
                                IsEnabled="{Binding IsBusy, Converter={StaticResource InvertedBoolConverter}}"/>
                    </Grid>

                    <ActivityIndicator IsRunning="{Binding IsBusy}" 
                                     IsVisible="{Binding IsBusy}"
                                     Color="#2196F3"
                                     HorizontalOptions="Center"
                                     Margin="0,10,0,0"/>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
